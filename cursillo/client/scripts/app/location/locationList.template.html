<div class="row">
  <div class="col-md-10">
    <h3>Location List</h3>
  </div>

  <div class="col-md-2 pull-right" has-role="admin">
    <button type="button" class="btn btn-primary" data-ui-sref="location.create" style="margin-top: 10px;">Create Location</button>
  </div>
</div>

<div class="row">
  <div class="col-md-3">Filter Locations by Cursillo</div>

  <div class="col-md-8">
    <ui-select ng-model="selected.cursilloId"
               on-select="loadLocations()"
               title="Single property binding with async data">
      <ui-select-match placeholder="Select">{{$select.selected.name }}</ui-select-match>
      <ui-select-choices repeat="cursillo.id as cursillo in cursillos">
        <div ng-bind-html="cursillo.name | highlight: $select.search"></div>
        <small>
          {{cursillo.name}}
        </small>
      </ui-select-choices>
    </ui-select>
  </div>

  <div class="col-md-1" ng-show="selected.cursilloId">
    <a ng-click="resetFilter()" href="javascript:void(0)">
      <span class="glyphicon glyphicon-remove" aria-hidden="true" style="font-size: 24px;"></span>
    </a>
  </div>


</div>

<div class="row">
  <div class="col-md-12">

    <table datatable="ng" dt-options="options" dt-column-defs="columnDefs" class="row-border hover">
      <thead>
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Cursillo</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="location in locations">
        <td>{{ location.id }}</td>
        <td>{{ location.name }}</td>
        <td>{{ location.cursilloName }}</td>
        <td>
          <a ui-sref="location.detail({id: location.id})" href="javascript:void(0)">
            <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
          </a>

          <a ui-sref="location.edit({id: location.id})" href="javascript:void(0)" has-role="admin">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </a>

          <!--
          <a href="javascript:void(0)" data-ng-click="deleteLocation(location.id, $index)" has-role="admin">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
          </a>
          -->
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
